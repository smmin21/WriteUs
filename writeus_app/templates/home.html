{% extends 'base.html' %}
{% block content %}

{% load static %}
<link rel="stylesheet" href="{% static 'jquery.fullPage.css' %}" type="text/css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
<style>
    .aTag{
        display: block;
        padding: 4px 25px 7px 27px;
        border: solid 1.5px #fff;
        border-radius: 25px;
        background-color: rgb(255, 255, 255, 0.2);
    }
    .sentence1{
        font-family: 'Highway' !important;
        font-size: 10vmin; 
        width: 10em; 
        border: 1px; 
        position:absolute; 
        bottom:-1vw;
        left:15vw;
    }
    .sentence2{
        font-family: 'Highway' !important;
        font-size: 10vmin; 
        width: 10em; 
        border: 1px; 
        position:absolute; 
        bottom:-1.5vw;
        left:15vw;
    }
    .sentence3{
        font-family: 'Highway' !important;
        font-size: 4.5vw; 
        width: 11em; 
        border: 1vw; 
        position:absolute; 
        top:-2.5vw;
        bottom:4vw;
        left:25.5vw;
    }
    .sentence4{
        font-family: 'Highway' !important;
        font-size: 1.5vw; 
        width: 30em; 
        border: 1vw;
    }
    .logo1{
        font-family: 'Dancing Script' !important; 
        font-size: 27px;
        position:relative;
        top: 20px;
        left:32px;
    }
    .logo2{
        font-family: 'Dancing Script' !important; 
        font-size: 10vw;
        position:absolute;
        bottom:3vw;
        left:34vw;
    }
    .fade_obj{
        display: none;
    }

    /* section 2 */
    .fp-viewing-section2 a{
        color:#000;
    }
    .fp-viewing-section2 .aTag{
        border-color:#000;
    }
    /* section 3 (firstwrite) */
    .fp-viewing-firstwrite .logo1{
        color: #fff;
    }
    .fp-viewing-firstwrite .write-button{
        display: none;
    }
    .fp-viewing-firstwrite #fp-nav ul li a span{
        background: #fff;
    }
    /* section 4 */
    .fp-viewing-section4 .logo1{
        color: #fff;
    }
    .fp-viewing-section4 .write-button{
        display: none;
    }
    .fp-viewing-section4 #fp-nav ul li a span{
        background: #fff;
    }
</style>


<!-- header -->
<header>
    <div class="logo1">WriteUs</div>
    <nav>
        <ul>
            <li data-menuanchor="section1" style="display: none;"></li>
            <li data-menuanchor="seciton2" style="display: none;"></li>
            <li data-menuanchor="firstwrite" class="write-button"><a href="#firstwrite" class="aTag">글 작성하기</a></li>
            <li data-menuanchor="seciton4" style="display: none;"></li>
        </ul>
    </nav>
</header>

<!-- main content -->
<main id="fullpage">
    <!-- section 1 -->
    <section class="section" id="section_1">
        <div class="fade_obj">
                <div class="purpleRock"><img src="{% static 'purpleRock.png' %}" style="float: right; position:absolute; width:60vw; height:60vw; bottom:-0.25vw; right:-23vw;"></div>
                <div class="charactor-wrap"><img src="{% static 'woman.png' %}" style="float: right; position:absolute; width:50vw; height:50vw; top:-21.5vw; right:5vw;"></div>
                <div class="paint"><img src="{% static 'pinkRock.png' %}" style="float: right; position:absolute; width:50vw; height:50vw; bottom:-45vw; right:60vw"></div>
                <div class="sentence1" ><p class="sentence-wrap" >함께 만들어가는<br>소설</p></div>
        </div>
    </section>
    <!-- section 2 -->
    <section class="section" id="section_2">
        <div class="fade_obj">
            <div class="purpleRock"><img src="{% static 'leaves.png' %}" style="float: right; position:absolute; width:38vw; height:38vw; top:-35.5vw; right:37vw;"></div>
            <div class="charactor-wrap"><img src="{% static 'man.png' %}" style="float: right; position:absolute; width:61vw; height:80vw; top:-26vw; right:-10vw;"></div>
            <div class="paint"><img src="{% static 'paint.png' %}" style="float: right; position:absolute; width:50vw; height:50vw; bottom:-48vw; right:50vw"></div>
            <div class="sentence2"><span class="sentence-wrap">지금 바로<br></span><span class="sentence-wrap" style="color: #ff6584;">시작</span><span class="sentence-wrap">해볼까요?</span></div>
        </div>
    </section>
    <!-- section 3 (input) -->
    <section class="section" id="section_3">
        <div class="fade_obj">
            <section class="main-section">
                <div class="logo-wrap">
                    <!-- <div class="logo2">WriteUs</div> -->
                    <!-- <div class="logo-tmp"><img src="{% static 'logo.png' %}"></div> -->
                </div>
                <div class="texts"><img src="{% static 'texts.png' %}" style="float: right; position:absolute; width:180vw; height:40vw; top: -21.5vw; right: -57vw;"></div>
                <div class="sentence3" ><span class="sentence-wrap" style="color: #ff6584;">첫 문장</span><span class="sentence-wrap" style="color: #ffff;">을 입력해보세요!</div>
                <div class="yellowBubble"><img src="{% static 'yellowBubble.png' %}" style="float: right; position:absolute; width:48vw; height:15vw; top: 8.75vw; right: 6vw;"></div>
                <div class="yellowBubble"><img src="{% static 'yellowBubble.png' %}" style="float: right; position:absolute; width:48vw; height:15vw; top: 16.25vw; right: 6vw;"></div>
                <div class="blusBubble"><img src="{% static 'blueBubble.png' %}" style="float: right; position:absolute; width:50vw; height:15vw; top: 12.5vw; right: 45vw;"></div>
                <div class="blusBubble"><img src="{% static 'blueBubble.png' %}" style="float: right; position:absolute; width:50vw; height:15vw; top: 20vw; right: 45vw;"></div>
                <div class="sentence4" ><span class="sentence-wrap" style="color: #000000; position:absolute; top: 14.7vw; right: 19vw;">하늘을 우러러 한 점 부끄럼 없기를</span></div>
                <div class="sentence4" ><span class="sentence-wrap" style="color: #000000; position:absolute; top: 22.2vw; right: 22vw;">별을 사랑하는 마음으로</span></div>
                <div class="sentence4" ><span class="sentence-wrap" style="color: #000000; position:absolute; top: 18.7vw; right: 55vw;">잎새에 이는 바람에도 나는 괴로워했다.</span></div>
                <div class="sentence4" ><span class="sentence-wrap" style="color: #000000; position:absolute; top: 26.2vw; right: 58vw;">모든 죽어가는 것을 사랑해야지.</span></div>
                <div class="searchbar-wrap">
                    <i class="fa-solid fa-pencil"></i>
                    <!-- <i class="fas fa-search"></i> -->
                    <form action="{%url 'home'%}" method="POST">
                        {%csrf_token%}
                        <input class="search-input" name="body" id="body" type="text" style="background-color:transparent;" autocomplete="off"/>
                    </form>
                    <i class="fas fa-keyboard"></i>
                </div> 
            </section>
        </div>
    </section>
    <!-- footer -->
    <footer class="section fp-auto-height">
        <div class="foot-wrap">
            <span>© 2022 YAI-Con WriteUs. All rights reserved.</span>
        </div>
    </footer>
</main>




<script type="text/javascript">
    $(document).ready(function() {
    	$('#fullpage').fullpage({
            anchors: ['section1', 'section2','firstwrite', 'section4'],
    		// autoScrolling:true,
    		// scrollHorizontally: true,
            navigation:true,
            navigationPosition: 'right',
            sectionsColor: ['#ffffff', '#fff9fa', '#3f3d56'],

            afterLoad: function(anchorLink, index) {
                console.log(anchorLink);
                if (index == 1) {
                    $('#section_1').find('.fade_obj').fadeIn(1000);
                    // $('#section_1').find('.sentence-wrap').fadeIn(3000);
                }
                // if (index == 2) {
                //     $('#section_2').find('.fade_obj').fadeIn(1500);
                // }
                // if (index == 3) {
                //     $('#section_3').find('.fade_obj').fadeIn(1200);
                // }
            },

            onLeave: function(index, nextIndex, direction) {
                console.log("onLeave: " + index);
                console.log("onLeave-next: " + nextIndex);
                console.log("onLeave-dir: " + direction);

                if (index == 1) {
                    $('#section_1').find('.fade_obj').delay(50).fadeOut(900);
                }
                if (index == 2) {
                    $('#section_2').find('.fade_obj').delay(50).fadeOut(900);

                }
                if (index == 3 && direction == 'up') {
                    $('#section_3').find('.fade_obj').delay(50).fadeOut(900);

                }
                if (nextIndex == 1 && direction == 'up') {
                    $('#section_1').find('.fade_obj').delay(50).fadeIn(1100);
                }
                if (nextIndex == 2) {
                    $('#section_2').find('.fade_obj').delay(50).fadeIn(1100);
                }
                if (nextIndex == 3 || nextIndex == 4) {
                    $('#section_3').find('.fade_obj').delay(50).fadeIn(1100);
                    // $('.write-button').css('display', 'none');
                }
            }
           
            // fadingEffect: true,
            
            // scrollingSpeed: 700,
            // onLeave: function(anchorLink, index) {
            //     $.fn.fullpage.setScrollingSpeed(0);
            //     $('.fp-section').find('.fp-slidesContainer').hide();
            // },
        
        
            // Display the slides container by fading it in after the next slide has been loaded.
            // afterLoad: function(anchorLink, index) {
            //     $('.fp-section').find('.fp-slidesContainer').fadeIn(700);
            //     $.fn.fullpage.setScrollingSpeed(SCROLLING_SPEED);
            // },
            // afterLoad: function(anchorLink, index){
            //     $.keyframe.define([{
            //         name: 'fadeInUp',
            //         '0%': {'opacity': '0', 'transform': 'translate3d(0, 100%, 0)'},
            //         to: {'opacity': '1', 'transform': 'translateZ(0)'},
            //     }]);
            //     $('.fade_obj').playKeyframe("fadeInUp 1s");
            //     // $('.fade_obj').fadeIn();/
                
            // }
    	});
    	//methods
    	// $.fn.fullpage.setAllowScrolling(false);
    });
</script>

{% endblock %}